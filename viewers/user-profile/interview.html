<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±åº¦è®¿è°ˆ - Pip-Boy</title>

    <!-- Pip-Boy ä¸»é¢˜æ ·å¼ -->
    <link rel="stylesheet" href="../pip-boy-theme/css/pip-boy-colors.css">
    <link rel="stylesheet" href="../pip-boy-theme/css/pip-boy-base.css">
    <link rel="stylesheet" href="../pip-boy-theme/css/pip-boy-crt.css">
    <link rel="stylesheet" href="../pip-boy-theme/css/pip-boy-components.css">

    <style>
        /* è®¿è°ˆç‰¹å®šæ ·å¼ */
        .interview-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* é˜¶æ®µæŒ‡ç¤ºå™¨ */
        .phase-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--pip-boy-black);
            border: 2px solid var(--pip-boy-green);
            border-radius: 4px;
        }

        .phase-item {
            flex: 1;
            text-align: center;
            padding: 10px;
            position: relative;
        }

        .phase-item::after {
            content: 'â†’';
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--pip-boy-green-dim);
        }

        .phase-item:last-child::after {
            display: none;
        }

        .phase-item.active {
            color: var(--pip-boy-green-bright);
            text-shadow: 0 0 10px var(--pip-boy-glow-strong);
        }

        .phase-item.completed {
            color: var(--pip-boy-green);
        }

        .phase-name {
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .phase-time {
            font-size: 0.8em;
            color: var(--pip-boy-green-dim);
        }

        /* ä¼šè¯ä¿¡æ¯ */
        .session-info {
            background: var(--pip-boy-black);
            border: 1px solid var(--pip-boy-green);
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .question-preview {
            flex: 1;
            font-size: 0.9em;
            color: var(--pip-boy-green-dim);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-right: 20px;
        }

        /* å¯¹è¯å†å²åŒºåŸŸ */
        .conversation-history {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--pip-boy-green);
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .conversation-history::-webkit-scrollbar {
            width: 10px;
        }

        .conversation-history::-webkit-scrollbar-track {
            background: var(--pip-boy-black);
        }

        .conversation-history::-webkit-scrollbar-thumb {
            background: var(--pip-boy-green);
            border-radius: 5px;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 4px;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-ai {
            background: rgba(74, 246, 38, 0.05);
            border-left: 3px solid var(--pip-boy-green);
        }

        .message-user {
            background: rgba(74, 246, 38, 0.1);
            border-left: 3px solid var(--pip-boy-green-bright);
        }

        .message-role {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .message-content {
            line-height: 1.6;
        }

        .message-timestamp {
            font-size: 0.8em;
            color: var(--pip-boy-green-dim);
            margin-top: 5px;
        }

        /* å½“å‰è¿½é—®åŒºåŸŸ */
        .current-question {
            background: var(--pip-boy-black);
            border: 2px solid var(--pip-boy-green);
            border-radius: 4px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 0 20px var(--pip-boy-glow-strong);
        }

        .current-question-text {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
            color: var(--pip-boy-green-bright);
        }

        .dice-indicator {
            display: inline-block;
            padding: 2px 8px;
            background: var(--pip-boy-green);
            color: var(--pip-boy-black);
            border-radius: 3px;
            font-size: 0.8em;
            margin-left: 10px;
        }

        /* å›ç­”è¾“å…¥åŒº */
        .answer-input-area {
            margin-bottom: 20px;
        }

        .answer-textarea {
            width: 100%;
            min-height: 150px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--pip-boy-green);
            color: var(--pip-boy-green-bright);
            font-family: 'Courier New', monospace;
            font-size: 1em;
            padding: 15px;
            resize: vertical;
        }

        .answer-textarea:focus {
            outline: none;
            box-shadow: 0 0 10px var(--pip-boy-glow-mid);
        }

        /* æ“ä½œæŒ‰é’® */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .pip-boy-button {
            background: var(--pip-boy-black);
            color: var(--pip-boy-green);
            border: 2px solid var(--pip-boy-green);
            padding: 12px 24px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            flex: 1;
        }

        .pip-boy-button:hover {
            background: var(--pip-boy-green);
            color: var(--pip-boy-black);
            box-shadow: 0 0 15px var(--pip-boy-glow-strong);
        }

        .pip-boy-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pip-boy-button.primary {
            background: rgba(74, 246, 38, 0.1);
        }

        .pip-boy-button.danger {
            border-color: #ff6666;
            color: #ff6666;
        }

        .pip-boy-button.danger:hover {
            background: #ff6666;
            color: var(--pip-boy-black);
        }

        /* åŠ è½½çŠ¶æ€ */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-content {
            text-align: center;
            color: var(--pip-boy-green);
        }

        .loading-spinner {
            border: 3px solid var(--pip-boy-green-dim);
            border-top: 3px solid var(--pip-boy-green);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* çŠ¶æ€æç¤º */
        .status-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: var(--pip-boy-black);
            border: 2px solid var(--pip-boy-green);
            border-radius: 4px;
            color: var(--pip-boy-green);
            display: none;
            z-index: 1001;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .status-toast.show {
            display: block;
        }

        .status-toast.error {
            border-color: #ff6666;
            color: #ff6666;
        }
    </style>
</head>
<body class="pip-boy-body">
    <div class="pip-boy-container">
        <!-- å¤´éƒ¨ -->
        <div class="pip-boy-header">
            <div class="pip-boy-title">ROBCO INDUSTRIES UNIFIED OPERATING SYSTEM</div>
            <div class="pip-boy-subtitle">ä¸ªäººå†å²ç”»åƒæ·±åº¦é‡‡é›†ç³»ç»Ÿ - äº”é˜¶æ®µæ·±åº¦è®¿è°ˆ</div>
        </div>

        <!-- ä¸»ä½“å†…å®¹ -->
        <div class="interview-container">
            <!-- é˜¶æ®µæŒ‡ç¤ºå™¨ -->
            <div class="phase-indicator" id="phaseIndicator">
                <div class="phase-item" data-phase="opening">
                    <div class="phase-name">å¼€åœºç ´å†°</div>
                    <div class="phase-time">5åˆ†é’Ÿ</div>
                </div>
                <div class="phase-item" data-phase="narrative">
                    <div class="phase-name">å™äº‹æ¢ç´¢</div>
                    <div class="phase-time">30åˆ†é’Ÿ</div>
                </div>
                <div class="phase-item" data-phase="grow">
                    <div class="phase-name">GROWç»“æ„åŒ–</div>
                    <div class="phase-time">20åˆ†é’Ÿ</div>
                </div>
                <div class="phase-item" data-phase="values">
                    <div class="phase-name">ä»·å€¼æ¾„æ¸…</div>
                    <div class="phase-time">15åˆ†é’Ÿ</div>
                </div>
                <div class="phase-item" data-phase="summary">
                    <div class="phase-name">æ€»ç»“ç¡®è®¤</div>
                    <div class="phase-time">5åˆ†é’Ÿ</div>
                </div>
            </div>

            <!-- ä¼šè¯ä¿¡æ¯ -->
            <div class="session-info">
                <div class="question-preview" id="questionPreview">
                    åŠ è½½ä¸­...
                </div>
                <div>
                    <span id="sessionStatus">å‡†å¤‡å¼€å§‹</span>
                </div>
            </div>

            <!-- å¯¹è¯å†å² -->
            <div class="conversation-history" id="conversationHistory">
                <div class="message message-ai">
                    <div class="message-role">ğŸ¤– AI è®¿è°ˆå‘˜</div>
                    <div class="message-content">
                        æ¬¢è¿ï¼æˆ‘ä»¬å³å°†å¼€å§‹æ·±åº¦è®¿è°ˆã€‚è¿™ä¸ªè¿‡ç¨‹å°†å¸®åŠ©æˆ‘æ›´å¥½åœ°äº†è§£æ‚¨çš„æ•…äº‹ã€‚
                        è¯·æ”¾æ¾ï¼ŒæŒ‰ç…§è‡ªå·±çš„èŠ‚å¥å›ç­”ï¼Œæ²¡æœ‰å¯¹é”™ä¹‹åˆ†ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿ
                    </div>
                </div>
            </div>

            <!-- å½“å‰è¿½é—® -->
            <div class="current-question" id="currentQuestion">
                <div class="current-question-text" id="currentQuestionText">
                    è®©æˆ‘ä»¬å¼€å§‹å§ã€‚é¦–å…ˆï¼Œæˆ‘æƒ³äº†è§£ä¸€ä¸‹æ‚¨ç°åœ¨çš„çŠ¶æ€ã€‚æ‚¨ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ
                    <span class="dice-indicator" id="diceIndicator" style="display: none;">DICE</span>
                </div>
            </div>

            <!-- å›ç­”è¾“å…¥ -->
            <div class="answer-input-area">
                <textarea
                    class="answer-textarea"
                    id="answerInput"
                    placeholder="è¯·è¾“å…¥æ‚¨çš„å›ç­”..."
                ></textarea>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="action-buttons">
                <button class="pip-boy-button primary" id="submitAnswerBtn" onclick="submitAnswer()">
                    æäº¤å›ç­”
                </button>
                <button class="pip-boy-button" id="endPhaseBtn" onclick="endCurrentPhase()">
                    ç»“æŸå½“å‰é˜¶æ®µ
                </button>
                <button class="pip-boy-button danger" id="endSessionBtn" onclick="endSession()">
                    ç”Ÿæˆæ€»ç»“
                </button>
            </div>
        </div>
    </div>

    <!-- åŠ è½½é®ç½© -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div>AIæ­£åœ¨æ€è€ƒ...</div>
        </div>
    </div>

    <!-- çŠ¶æ€æç¤º -->
    <div class="status-toast" id="statusToast"></div>

    <!-- JavaScript -->
    <script src="js/interview.js"></script>
</body>
</html>